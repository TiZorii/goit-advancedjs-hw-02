{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('.form');\n\n  form.addEventListener('submit', function (event) {\n    event.preventDefault();\n\n    const firstDelay = parseInt(this.elements['delay'].value, 10);\n    const step = parseInt(this.elements['step'].value, 10);\n    const amount = parseInt(this.elements['amount'].value, 10);\n\n    generatePromises(firstDelay, step, amount);\n  });\n});\n\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      const result = { position, delay };\n\n      if (shouldResolve) {\n        // Fulfill\n        resolve(result);\n      } else {\n        // Reject\n        reject(result);\n      }\n    }, delay);\n  });\n}\n\nfunction generatePromises(firstDelay, step, amount) {\n  const promises = [];\n\n  for (let i = 1; i <= amount; i++) {\n    const currentDelay = firstDelay + (i - 1) * step;\n    const promise = createPromise(i, currentDelay);\n\n    promise\n      .then(({ position, delay }) => {\n        iziToast.success({\n          title: 'Fulfilled',\n          message: `Fulfilled promise ${position} in ${delay}ms`,\n        });\n      })\n      .catch(({ position, delay }) => {\n        iziToast.error({\n          title: 'Rejected',\n          message: `Rejected promise ${position} in ${delay}ms`,\n        });\n      });\n\n    promises.push(promise);\n  }\n\n  Promise.allSettled(promises).then(() => {\n    iziToast.info({\n      title: 'All promises completed',\n      message: 'All promises have been either fulfilled or rejected.',\n    });\n  });\n}"],"names":["event","firstDelay","step","amount","generatePromises","createPromise","position","delay","resolve","reject","shouldResolve","result","promises","i","currentDelay","promise","iziToast"],"mappings":"wIAGA,SAAS,iBAAiB,mBAAoB,IAAM,CACrC,SAAS,cAAc,OAAO,EAEtC,iBAAiB,SAAU,SAAUA,EAAO,CAC/CA,EAAM,eAAc,EAEpB,MAAMC,EAAa,SAAS,KAAK,SAAS,MAAS,MAAO,EAAE,EACtDC,EAAO,SAAS,KAAK,SAAS,KAAQ,MAAO,EAAE,EAC/CC,EAAS,SAAS,KAAK,SAAS,OAAU,MAAO,EAAE,EAEzDC,EAAiBH,EAAYC,EAAMC,CAAM,CAC7C,CAAG,CACH,CAAC,EAGD,SAASE,EAAcC,EAAUC,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GAEtC,WAAW,IAAM,CACf,MAAMC,EAAS,CAAE,SAAAL,EAAU,MAAAC,GAEvBG,EAEFF,EAAQG,CAAM,EAGdF,EAAOE,CAAM,CAEhB,EAAEJ,CAAK,CACZ,CAAG,CACH,CAEA,SAASH,EAAiBH,EAAYC,EAAMC,EAAQ,CAClD,MAAMS,EAAW,CAAA,EAEjB,QAASC,EAAI,EAAGA,GAAKV,EAAQU,IAAK,CAChC,MAAMC,EAAeb,GAAcY,EAAI,GAAKX,EACtCa,EAAUV,EAAcQ,EAAGC,CAAY,EAE7CC,EACG,KAAK,CAAC,CAAE,SAAAT,EAAU,MAAAC,KAAY,CAC7BS,EAAS,QAAQ,CACf,MAAO,YACP,QAAS,qBAAqBV,QAAeC,KACvD,CAAS,CACT,CAAO,EACA,MAAM,CAAC,CAAE,SAAAD,EAAU,MAAAC,KAAY,CAC9BS,EAAS,MAAM,CACb,MAAO,WACP,QAAS,oBAAoBV,QAAeC,KACtD,CAAS,CACT,CAAO,EAEHK,EAAS,KAAKG,CAAO,CACtB,CAED,QAAQ,WAAWH,CAAQ,EAAE,KAAK,IAAM,CACtCI,EAAS,KAAK,CACZ,MAAO,yBACP,QAAS,sDACf,CAAK,CACL,CAAG,CACH"}